// Writes stream into a buffer
struct StreamWriter {
    
}

impl StreamWriter {
    fn new() -> (StreamWriter, StreamWriterHandle) {

    }
    fn run_forever() {

    }
}

// A handle to the stream writer that allows
// a thread to kill/manage the writer
struct StreamWriterHandle {

}

impl StreamWriterHandle {
    fn kill() {

    }
    fn change_channel(idx: usize) {

    }
    fn get_line(idx: usize) {
        
    }
}